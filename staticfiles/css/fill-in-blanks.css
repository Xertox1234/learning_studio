/* Fill-in-the-Blanks Interface - Bootstrap Darkly Theme Integration */

/* Main Interactive Code Block - Bootstrap Card Style */
.interactive-code-block {
    background: var(--bs-card-bg) !important;
    border: var(--bs-card-border-width) solid var(--bs-card-border-color) !important;
    border-radius: var(--bs-card-border-radius) !important;
    overflow: hidden !important;
    margin: 1.5rem 0 !important;
    box-shadow: var(--bs-box-shadow) !important;
    transition: all 0.15s ease-in-out !important;
    position: relative !important;
}

.interactive-code-block:hover {
    box-shadow: var(--bs-box-shadow-lg) !important;
    transform: translateY(-2px) !important;
}

/* Button styling - EXACTLY like exercises page using Bootstrap classes */
.check-answers-btn,
.fill-blank-actions .btn-outline-primary {
    /* Let Bootstrap handle all styling - no overrides needed */
}

.run-code-btn,
.fill-blank-actions .btn-primary {
    /* Let Bootstrap handle all styling - no overrides needed */
}

/* Small button variants */
.btn-sm.check-answers-btn,
.btn-sm.run-code-btn {
    /* Let Bootstrap handle all styling - no overrides needed */
}

/* Instructions Panel - Bootstrap Alert Info */
.interactive-code-block .alert-info {
    /* Let Bootstrap handle all styling - no overrides needed */
}

.interactive-code-block .alert-info .alert-content {
    /* Let Bootstrap handle all styling - no overrides needed */
}

.interactive-code-block .alert-info strong {
    color: var(--bs-primary) !important;
    font-weight: 600;
}

/* Fill-in-blanks Editor Wrapper - Bootstrap Card */
.fill-blank-editor-wrapper {
    background: var(--bs-card-bg);
    border: var(--bs-card-border-width) solid var(--bs-card-border-color);
    border-radius: var(--bs-card-border-radius);
    overflow: hidden;
    margin: 0;
    box-shadow: var(--bs-box-shadow);
}

.fill-blank-editor-wrapper:hover {
    box-shadow: var(--bs-box-shadow-lg);
    transform: translateY(-2px);
    transition: all 0.15s ease-in-out;
}

/* Header styling - Bootstrap Card Header */
.fill-blank-header {
    background: var(--bs-card-cap-bg);
    padding: var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);
    border-bottom: var(--bs-card-border-width) solid var(--bs-card-border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0;
}

.fill-blank-header span {
    color: var(--bs-card-color);
    font-weight: 500;
    font-size: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0;
}

/* Action buttons container */
.fill-blank-actions {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

/* Disabled button styling - let Bootstrap handle */
.fill-blank-actions .btn:disabled {
    /* Let Bootstrap handle all styling - no overrides needed */
}

/* Input field styling - Bootstrap Form Control */
.blank-input-container {
    position: relative;
    display: inline-block;
    margin: 0 0.125rem;
}

.blank-input {
    background: #000000 !important;
    border: 2px solid #375a7f !important;
    border-radius: var(--bs-border-radius) !important;
    color: #ffffff !important;
    font-family: 'Cascadia Code', 'Fira Code', 'JetBrains Mono', monospace !important;
    font-size: 0.875rem !important;
    font-weight: 400 !important;
    padding: 0.375rem 0.75rem !important;
    width: auto !important;
    min-width: 3ch !important;
    max-width: 50ch !important;
    outline: none !important;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, width 0.15s ease-in-out !important;
    line-height: 1.5 !important;
}

.blank-input:focus {
    border-color: #375a7f !important;
    box-shadow: 0 0 0 0.2rem rgba(55, 90, 127, 0.25) !important;
    outline: 0 !important;
    background: #000000 !important;
}

.blank-input:valid {
    border-color: #375a7f !important;
}

.blank-input::placeholder {
    color: #888888 !important;
    font-style: italic !important;
    opacity: 1 !important;
}

/* Code editor area - Bootstrap background */
.fill-blank-editor {
    background: var(--bs-tertiary-bg);
    min-height: 200px;
    font-family: 'Cascadia Code', 'Fira Code', 'JetBrains Mono', monospace;
}

.code-display {
    padding: 1.25rem;
    background: var(--bs-tertiary-bg);
    color: var(--bs-body-color);
    overflow-x: auto;
}

.code-display pre {
    margin: 0;
    font-family: inherit;
    font-size: 0.875rem;
    line-height: 1.5;
    white-space: pre-wrap;
    word-wrap: break-word;
    background: transparent;
    border: none;
    padding: 0;
    color: var(--bs-body-color);
}

.code-display code {
    background: transparent;
    color: inherit;
    padding: 0;
    border: none;
    font-family: inherit;
    font-size: inherit;
}

/* Results Panel - Bootstrap Card Footer */
.fill-blank-results {
    background: var(--bs-card-cap-bg);
    border-top: var(--bs-card-border-width) solid var(--bs-card-border-color);
    padding: var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        max-height: 0;
        opacity: 0;
    }
    to {
        max-height: 500px;
        opacity: 1;
    }
}

.check-results h6,
.run-results h6 {
    color: var(--bs-body-color) !important;
    margin-bottom: 1rem !important;
    font-weight: 600 !important;
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    font-size: 1rem !important;
}

.check-results > div,
.run-results > div {
    margin-bottom: 0.75rem;
    padding: 0.75rem;
    background: var(--bs-tertiary-bg);
    border-radius: var(--bs-border-radius);
    border-left: 4px solid #375a7f;
    transition: all 0.15s ease-in-out;
}

.check-results > div:hover {
    background: var(--bs-secondary-bg);
    transform: translateX(2px);
}

/* Success/Error states - Bootstrap variables */
.text-success {
    color: var(--bs-success) !important;
}

.text-danger {
    color: var(--bs-danger) !important;
}

.text-warning {
    color: var(--bs-warning) !important;
}

.text-info {
    color: var(--bs-info) !important;
}

/* Code output styling - Bootstrap theme */
.run-results pre {
    background: var(--bs-tertiary-bg) !important;
    border: var(--bs-border-width) solid var(--bs-border-color) !important;
    border-radius: var(--bs-border-radius) !important;
    padding: 1rem !important;
    color: var(--bs-primary) !important;
    margin: 0 !important;
    font-family: 'Cascadia Code', 'Fira Code', monospace !important;
    font-size: 0.875rem !important;
    line-height: 1.5 !important;
    overflow-x: auto !important;
    box-shadow: none !important;
}

/* Interactive Code Header - Bootstrap Card Header */
.interactive-code-header {
    background: var(--bs-card-cap-bg);
    padding: var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);
    border-bottom: var(--bs-card-border-width) solid var(--bs-card-border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--bs-card-color);
    font-weight: 500;
    margin-bottom: 0;
}

.interactive-code-header .exercise-type {
    background: var(--bs-primary);
    color: var(--bs-white);
    padding: 0.25rem 0.75rem;
    border-radius: var(--bs-border-radius);
    font-size: 0.75rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.025em;
}

/* Interactive Instructions - Bootstrap Card */
.interactive-code-block .interactive-instructions {
    background: #375a7f !important;
    border-bottom: var(--bs-card-border-width) solid var(--bs-card-border-color) !important;
    padding: 1.25rem !important;
    color: white !important;
}

.interactive-code-block .instructions-header {
    display: flex !important;
    align-items: center !important;
    gap: 0.5rem !important;
    margin-bottom: 1rem !important;
    font-weight: 600 !important;
    font-size: 1rem !important;
    color: white !important;
}

.interactive-code-block .instructions-content {
    color: rgba(255, 255, 255, 0.9) !important;
    line-height: 1.6 !important;
}

.interactive-code-block .instructions-content strong {
    color: white !important;
    font-weight: 600 !important;
}

.interactive-code-block .instructions-content .bi {
    color: rgba(255, 255, 255, 0.8) !important;
}

/* Validation States for Input Fields - Bootstrap Form Validation */
.blank-input.is-valid {
    border-color: #375a7f !important;
    box-shadow: 0 0 0 0.25rem rgba(55, 90, 127, 0.25) !important;
}

.blank-input.is-invalid {
    border-color: var(--bs-form-invalid-border-color) !important;
    box-shadow: 0 0 0 0.25rem var(--bs-form-invalid-focus-box-shadow) !important;
}

/* Result Items - Bootstrap Theme */
.result-item {
    margin-bottom: 0.75rem;
    padding: 0.75rem;
    background: var(--bs-tertiary-bg);
    border-radius: var(--bs-border-radius);
    border-left: 4px solid #375a7f;
    transition: all 0.15s ease-in-out;
    color: var(--bs-body-color);
}

.result-item:hover {
    background: var(--bs-secondary-bg);
    transform: translateX(2px);
}

.overall-result {
    margin-top: 1rem;
    padding: 1rem;
    border-radius: var(--bs-border-radius);
    font-weight: 600;
}

.overall-result.success {
    background: #375a7f;
    color: white;
    border: var(--bs-border-width) solid #375a7f;
}

.overall-result.warning {
    background: var(--bs-warning-bg-subtle);
    color: var(--bs-warning-text-emphasis);
    border: var(--bs-border-width) solid var(--bs-warning-border-subtle);
}

/* Output Display - Bootstrap Theme */
.output-display {
    background: var(--bs-tertiary-bg);
    border: var(--bs-border-width) solid var(--bs-border-color);
    border-radius: var(--bs-border-radius);
    padding: 1rem;
    margin-top: 0.75rem;
}

.output-display pre {
    color: var(--bs-primary);
    margin: 0;
    font-family: 'Cascadia Code', 'Fira Code', monospace;
    font-size: 0.875rem;
    line-height: 1.5;
    white-space: pre-wrap;
}

/* Custom scrollbar for results - Bootstrap Theme */
.fill-blank-results::-webkit-scrollbar {
    width: 6px;
}

.fill-blank-results::-webkit-scrollbar-track {
    background: var(--bs-secondary-bg);
}

.fill-blank-results::-webkit-scrollbar-thumb {
    background: var(--bs-primary);
    border-radius: 3px;
}

.fill-blank-results::-webkit-scrollbar-thumb:hover {
    background: var(--bs-primary-dark);
}

/* Responsive Design */
@media (max-width: 768px) {
    .fill-blank-header {
        flex-direction: column;
        gap: 0.75rem;
        align-items: stretch;
    }
    
    .fill-blank-actions {
        justify-content: center;
    }
    
    .blank-input {
        min-width: 6rem !important;
        max-width: 10rem !important;
    }
    
    .interactive-code-block {
        margin: 1rem 0;
    }
    
    .interactive-code-block .alert-info {
        margin: 0.75rem !important;
        padding: 0.75rem !important;
    }
}

/* Loading states */
.btn[disabled] {
    opacity: 0.65;
    cursor: not-allowed;
    transform: none !important;
}

/* Additional modern styling overrides */
.alert {
    border: 1px solid transparent;
    border-radius: 0.375rem;
}

.badge {
    padding: 0.35em 0.65em;
    font-size: 0.75em;
    font-weight: 700;
    line-height: 1;
    border-radius: 0.25rem;
}

/* Ensure Bootstrap success styling is consistent */
.border-success,
.alert-success {
    border-color: #375a7f !important;
    background-color: #375a7f !important;
    color: white !important;
}

/* Override any bright blue alert styling */
.interactive-code-block .alert-primary,
.interactive-code-block .alert-info,
.fill-blank-results .alert-primary,
.fill-blank-results .alert-info,
.alert-primary,
.alert-info {
    background-color: #375a7f !important;
    border-color: #375a7f !important;
    color: white !important;
}

/* Additional override for dark theme compatibility */
[data-bs-theme="dark"] .interactive-code-block .interactive-instructions,
[data-bs-theme="light"] .interactive-code-block .interactive-instructions,
.interactive-code-block .interactive-instructions {
    background: #375a7f !important; /* Header blue */
    color: #ffffff !important;
}

[data-bs-theme="dark"] .interactive-code-block .instructions-content,
[data-bs-theme="light"] .interactive-code-block .instructions-content,
.interactive-code-block .instructions-content {
    color: rgba(255, 255, 255, 0.9) !important;
}

[data-bs-theme="dark"] .interactive-code-block .instructions-content strong,
[data-bs-theme="light"] .interactive-code-block .instructions-content strong,
.interactive-code-block .instructions-content strong {
    color: #ffffff !important;
}